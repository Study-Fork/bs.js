<!DOCTYPE html>
<html lang="ko">
<head>
<title>bs4-date</title>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<meta name="mobile-web-app-capable" content="yes">
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"/>
</head>
<body>
<div id="stage"></div>
<script src="http://js.bsapi.co/4/build/test.php"></script>
<script src="http://js.bsapi.co/test/2/"></script>
<script>
bsTest.doc('bs.date([date:String|Date = now, isUTC:boolean = false])', function(){/*
인자를 통해 날짜를 생성함.

### 인자

1. date:String|Date = now - 기준이 되는 날짜를 문자열 또는 Date객체로 넘김. 생략시 현재시간. 문자열형태는 다음과 같음
    1. '2016-03-04 12:33:20.001' 형식 - 시간부분이나 밀리세컨만 생략할 수 있음.
	2. '2016-03-04T12:33:20.001T' 형식 - ISOstring형식으로 보낼 수도 있음.
2. isUTC:boolean = false - 2번째 인자에 기술된 날짜가 ISOstring형식이 아닌 경우 해당 값이 UTC시간인지 아닌지를 나타냄.

### 예제
<pre>
console.log(bs.date('2016-06-01 12:13:00')); // 해당 날짜의 Date객체 반환
</pre>
*/});
bsTest.doc('bs.datePart(part:String[, date:String|Date = now, isUTC:boolean = false])', function(){/*
미리 약속된 기호로 날짜의 일부분을 대체하여 문자열을 얻음.

### 인자

1. part:String - 얻고 싶은 문자열. 예를들어 'Y-m-d H:i:s' 인 경우 '2016-06-01 12:13:00' 을 얻게 됨. 아래와 같은 기호를 사용할 수 있음.
    * Y - 4자리 연도. 2016
    * y - 2자리 연도. 16
    * m - 강제 2자리 월. 04, 12
    * n - 일반적인 월. 4, 12
    * d - 강제 2자리 일. 09, 22
    * j - 일반적인 일. 9, 22
    * H - 강제 2자리 24시간제 시간. 03, 18
    * h - 강제 2자리 12시간제 시간, 03, 12
    * G - 일반적인 24시간제 시간 3, 18
    * g - 일반적인 12시간제 시간 3, 12
    * i - 강제 2자리 분. 03, 24
    * s - 강제 2자리 초. 05, 32
    * u - 밀리세컨. 234
    * w - 다국어 지원 요일명. 월, 화..
2. date:String|Date = now - bs.date의 1번 인자가 됨.
3. isUTC:boolean = false - bs.date의 2번 인자가 됨.

### 예제
<pre>
console.log(bs.datePart('Y-m-d H:i:s')); //'2016-06-01 12:13:00' 형식의 현재시간값
</pre>
*/});
bsTest.doc('bs.dateAdd(part:String, value:int[, date:String|Date = now, isUTC:boolean = false])', function(){/*
어떤 날짜에 특정 시간단위 만큼을 더하거나 뺀 날짜를 얻음. 

### 인자

1. part:String - 더하려는 단위.
	* y : 연
	* m : 월
	* d : 일
	* h : 시간
	* i : 분
	* s : 초
	* ms : 1/1000초
2. value:int - 더할 값. 음수허용.
3. date:String|Date = now - bs.date의 1번 인자가 됨.
4. isUTC:boolean = false - bs.date의 2번 인자가 됨.

### 반환값
Date

### 예제
<pre>
console.log(bs.datePart(
	'Y-m-d',
	bs.dateAdd('d', 1, bs.date('2016-06-10')
)); //'2016-06-11' 1일을 더한 값.
</pre>
*/});
bsTest.doc('bs.dateDiff(interval, dateOld, isUTCOld, dateNew, isUTCNew)', function(){/*
이전 일자(dateOld)와 새 일자(dateNew) 사이에 차이를 계산함.

### 인자

1. interval:String - 계산하려는 차이의 단위.
	* y : 연
	* m : 월
	* d : 일
	* h : 시간
	* i : 분
	* s : 초
	* ms : 1/1000초
3. dateOld:String|Date = now - bs.date의 1번 인자가 됨.
4. isUTCOld:boolean = false - bs.date의 2번 인자가 됨.
5. dateNew:String|Date = now - bs.date의 1번 인자가 됨.
6. isUTCNew:boolean = false - bs.date의 2번 인자가 됨.

### 반환값
int

### 예제
<pre>
console.log(
	bs.dateDiff('y', 
		'2015-09-01 01:02:03.001', false,
		'2016-10-01 05:07:04.021', false
	)
); //1
</pre>
*/});
bsTest.doc('bs.datePretty(targetDate, isUTCtarget, baseDate, isUTCbase)', function(){/*
이전 일자(baseDate)로 부터 대상 일자(targetDate)까지의 경과 시간을 정해진 문자열로 표시함.

### 인자

1. targetDate:String|Date = now - bs.date의 1번 인자가 됨.
2. isUTCtarget:boolean = false - bs.date의 2번 인자가 됨.
3. baseDate:String|Date = now - bs.date의 1번 인자가 됨.
4. isUTCbase:boolean = false - bs.date의 2번 인자가 됨.

### 반환값
경과시간 차이에 따라 다음과 같은 문자열이 반환됨.

1. 60초 이내 - 'xx초 전'
2. 60분 이내 - 'xx분 전'
3. 24시간 이내 - 'xx시간 전'
4. 해당 월 이내 - 'xx일 전'
5. 해당 년 이내 - 'xx월 전'
6. 그 이후 - 'xx년 전'

### 예제
<pre>
console.log(
	bs.datePretty(
		new Date(2016,1,10,13,10,20), false, 
		new Date(2016,1,10,13,10,0), false
	)
); //'20초 전'
</pre>
*/});
bsTest.doc('bs.dateLang(language:String)', function(){/*
다국어 지원을 위한 설정으로 datePart, datePretty에 영향을 끼침. 기본값은 'ko-KR'로 지정되어있음.

### 인자

1. language:String - 설정하려는 언어. 이는 bs.dateTemplate에 정의한 키와 일치하기만 하면되므로 제약은 없음.
    * 일반적인 브라우저의 언어설정 - navigator.language == 'ko'
	* HTML5.1에 제안된 설정(크롬, 파폭) - navigator.languages == ['ko-KR', 'ko', 'en-US', 'en'] 

### 반환값
없음

### 예제
<pre>
bs.dateLang('ko');
</pre>
*/});
bsTest.doc('bs.dateTemplate(language:String, prettyData:Object)', function(){/*
다국어 지원을 위한 설정으로 언어별로 미리 문자열을 정의함. datePart, datePretty에서 사용됨.

* 미리 ko-KR과 en-US에 대한 설정이 내장되어 있음.

### 인자

1. language:String - 설정하려는 언어. 이는 bs.dateTemplate에 정의한 키와 일치하기만 하면되므로 제약은 없음.
    * 일반적인 브라우저의 언어설정 - navigator.language == 'ko'
	* HTML5.1에 제안된 설정(크롬, 파폭) - navigator.languages == ['ko-KR', 'ko', 'en-US', 'en'] 
2. prettyData:Object - 다국어 문자열 설정으로 다음과 같은 형식을 따른다.
    * day - 길이가 7인 배열로 요일명에 대응함
    * pretty - 객체로 다음과 같은 형식을 따른다.
        * now - 문자열. '지금', 'Now' 등
        * past - '@time@' 을 포함하는 문자열. '@time@ 후', '@time@ ago'
        * future - '@time@' 을 포함하는 문자열. '@time@ 전', 'in @time@'
        * second - 배열로 각 초별 메세지를 정하고 이후의 모든 메세지는 마지막 메세지로 처리됨. [0, '@time@초'], [0, 'a few second', '@time@ seconds']
        * minute - 상동. [0, '@time@분'], [0, 'a minute', '@time@ minutes']
        * hour - 상동. [0, '@time@시간'], [0, 'an hour', '@time@ hours']
        * day - 상동. [0, '@time@일'], [0, 'a day', '@time@ days']
        * month - 상동. [0, '@time@개월'], [0, 'a month', '@time@ months']
        * year - 상동. [0, '@time@년'], [0, 'a year', '@time@ years']

### 반환값
없음

### 예제
<pre>
bs.dateTemplate('ko-KR', {
	day:['일','월','화','수','목','금','토'],
	pretty:{
		now:'지금', past:'@time@ 후', future:'@time@ 전',
		second:[0, '@time@초'], minute:[0, '@time@분'], hour:[0, '@time@시간'],
		day:[0, '@time@일'], month:[0, '@time@개월'], year:[0, '@time@년']
	}
});
bs.dateTemplate('en-US', {
	day:['sun','mon','tue','wed','thu','fri','sat'],
	pretty:{
		now:'Now', past:'@time@ ago', future:'in @time@',
		second:[0, 'a few second', '@time@ seconds'], 
		minute:[0, 'a minute', '@time@ minutes'],
		hour:[0, 'an hour', '@time@ hours'],
		day:[0, 'a day', '@time@ days'],
		month:[0, 'a month', '@time@ months'],
		year:[0, 'a year', '@time@ years']
	}
});
bs.dateLang('en-US');
</pre>
*/});
bsTest.run('bs.datePart', null,
	function(f){
		f.ok('4자리연도추출');
		return bs.datePart('Y', bs.date('2015-09-01 01:02:03'));
	}, '2015',
	function(f){
		f.ok('2자리연도추출');
		return bs.datePart('y', bs.date('2015-09-01 01:02:03'));
	}, '15',
	function(f){
		f.ok('강제2자리 달 추출');
		return bs.datePart('m', bs.date('2015-09-01 01:02:03'));
	}, '09',
	function(f){
		f.ok('달 추출');
		return bs.datePart('n', bs.date('2015-09-01 01:02:03'));
	}, '9',
	function(f){
		f.ok('강제2자리 일 추출');
		return bs.datePart('d', bs.date('2015-09-01 01:02:03'));
	}, '01',
	function(f){
		f.ok('일 추출');
		return bs.datePart('j', bs.date('2015-09-01 01:02:03'));
	}, '1',
	function(f){
		return bs.datePart('i', bs.date('2015-09-01 01:02:03'));
	}, '02',
	function(f){
		return bs.datePart('s', bs.date('2015-09-01 01:02:03'));
	}, '03',
	function(f){
		return bs.datePart('u', bs.date('2015-09-01 01:02:03.013'));
	}, '13',
	function(f){
		return bs.datePart('w', bs.date('2015-09-01 01:02:03'));
	}, '화',	
	function(f){
		return bs.datePart('H', bs.date('2015-09-01 01:02:03'));
	}, '01',
	function(f){
		return bs.datePart('h', bs.date('2015-09-01 01:02:03'));
	}, '01',
	function(f){
		return bs.datePart('G', bs.date('2015-09-01 01:02:03'));
	}, '1',
	function(f){
		return bs.datePart('g', bs.date('2015-09-01 01:02:03'));
	}, '1',
	function(f){
		return bs.datePart('H', bs.date('2015-09-01 13:02:03'));
	}, '13',
	function(f){
		return bs.datePart('h', bs.date('2015-09-01 13:02:03'));
	}, '01',
	function(f){
		return bs.datePart('G', bs.date('2015-09-01 13:02:03'));
	}, '13',
	function(f){
		return bs.datePart('g', bs.date('2015-09-01 13:02:03'));
	}, '1'
);
bsTest.run('bs.dateAdd', null,
	function(){
		return bs.datePart(0, bs.dateAdd('m', 1, '2015-09-01'));
	}, '2015-10-01 00:00:00',
	function(){
		return bs.datePart(0, bs.dateAdd('y', 1, '2015-09-01'));
	}, '2016-09-01 00:00:00'
);
bsTest.run('bs.dateDiff', null,
	function(){return bs.dateDiff('y', '2015-09-01 01:02:03.001', 0, '2016-10-01 05:07:04.021', 0);}, 1,
	function(){return bs.dateDiff('m', '2015-09-01 01:02:03.001', 0, '2015-10-01 05:07:04.021', 0);}, 1,
	function(){return bs.dateDiff('d', '2015-09-01 01:02:03.001', 0, '2015-09-02 05:07:04.021', 0);}, 1,
	function(){return bs.dateDiff('h', '2015-09-01 01:02:03.001', 0, '2015-09-01 05:07:04.021', 0);}, 4,
	function(){return bs.dateDiff('i', '2015-09-01 01:02:03.001', 0, '2015-09-01 01:07:04.021', 0);}, 5,
	function(){return bs.dateDiff('s', '2015-09-01 01:02:03.001', 0, '2015-09-01 01:02:04.021', 0);}, 1,
	function(){return bs.dateDiff('ms', '2015-09-01 01:02:03.001', 0, '2015-09-01 01:02:03.021', 0);}, 20
	
);
bsTest.run('bs.datePretty', null,
	function(){return bs.datePretty(new Date(2015,1,10,13,10,20), 0, new Date(2015,1,10,13,10,0), 0);},
	'20초 전'
);
</script>
</body>
</html>